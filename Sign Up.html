<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>www.onlinequizsignup.com</title>
    <link rel="stylesheet" href="https://fonts.google.com/specimen/Josefin+Sans?query=jose">
    <link rel="stylesheet" href="style.css">
</head>

<body>
        <div class="box">
            <h1>Sign Up</h1>
            <form action="webcopy.html">
                <!-- <form> -->
                <div class="inputBox">
                    <input type="text" name="text" id="name" required autocomplete="off">
                    <label >Username*</label> 
                </div>

                <div class="inputBox">
                    <input type="text" onkeyup="email()" id="checker" required autocomplete="off">
                    <label id="email">E-mail*</label> 
                </div>

                <div class="inputBox">
                    <input type="password" id="password" required autocomplete="off" onkeyup="passcheck()">
                    <label id="id1">Password*</label>
                </div>

                <div class="inputBox">
                    <input type="password" id="cpassword" onkeyup="same()" required autocomplete="off">
                    <label id="id2">Confirm Password*</label>
                </div>

                <div>
                    <input type="submit"  value="Sign Up"  onclick="signup()">
                </div>

                <div>
                    <h3>Note:Password Should Contain:-</h3>
                    <h5 class="password">1) Eight Digits</h5>
                    <h5 class="password">2) Lowercase</h5>
                    <h5 class="password">3) Uppercase</h5>
                    <h5 class="password">4) Special Character</h5>
                    <h5 class="password">5) Number</h5>
                </div>

                <div><h3>Already have an account?<a href="Login.html">Login</a></h3></div>
                
            </form>
        </div>
</body>

<script>
      
      

      function passcheck()
      {
        var a=[0];
        var data=document.getElementById('password').value
        var passClass=document.getElementsByClassName('password');
        const lowerCase=new RegExp('(?=.*[a-z])');
        const upperCase=new RegExp('(?=.*[A-Z])');
        const number=new RegExp('(?=.*[0-9])');
        const specialChar=new RegExp('(?=.[!@#\$%\^&\])');
        const eightChar=new RegExp('(?=.{8,})');


        if(eightChar.test(data))
        {
            passClass[0].style.color="green";
            a[0]=1;
        }
        else
        {
            passClass[0].style.color="white";
            a[0]=0;
        }


        if(lowerCase.test(data))
        {
            passClass[1].style.color="green";
            a[1]=1;
        }
        else
        {
            passClass[1].style.color="white";
            a[1]=0;
        }


        if(upperCase.test(data))
        {
            passClass[2].style.color="green";
            a[2]=1;
        }
        else
        {
            passClass[2].style.color="white";
            a[2]=0;
        }


        if(specialChar.test(data))
        {
            passClass[3].style.color="green";
            a[3]=1;
        }
        else
        {
            passClass[3].style.color="white";
            a[3]=0;
        }


        if(number.test(data))
        {
            passClass[4].style.color="green";
            a[4]=1;
        }
        else
        {
            passClass[4].style.color="white";
            a[4]=0;
        }
        
        if( a[0]==1 && a[1]==1 && a[2]==1 && a[3]==1 && a[4]==1 )
        {
            document.getElementById('id1').style.color="green";
            return 1;
        }
        else
        {
            document.getElementById('id1').style.color="red";
            return 0;
        }

      }

    
    function same()
    {
        var data=document.getElementsByTagName('input')[2].value;
        var data1=document.getElementsByTagName('input')[3].value;

        const lowerCase=new RegExp('(?=.*[a-z])');
        const upperCase=new RegExp('(?=.*[A-Z])');
        const number=new RegExp('(?=.*[0-9])');
        const specialChar=new RegExp('(?=.[!@#\$%\^&\])');
        const eightChar=new RegExp('(?=.{8,})');


        if( data1==data && eightChar.test(data) && lowerCase.test(data) && upperCase.test(data) && specialChar.test(data) && number.test(data) )
        {
            document.getElementById('id2').style.color="green";
            return 1;
        }
        else
        {
            document.getElementById('id2').style.color="red";
            return 0;
        }
       
    }

    function email()
    {
        var data3=document.getElementsByTagName('input')[1].value;
        if (/^\w+([\.-]?\w+)@\w+([\.-]?\w+)(\.\w{2,3})+$/.test(data3))
        {
            document.getElementById('email').style.color="green";
            return 1;
        }
        else
        {
            document.getElementById('email').style.color="red";
            return 0;
        }
    }



    function signup()
    {
        var a=passcheck()
        var b=same()
        var c=email()

        if(a && b && c)
        {
            localStoragehandler();
            
            
            document.getElementsByTagName('input')[4].disabled=false;
        }
        else
        {            
          document.getElementsByTagName('input')[4].disabled=true;
        }
    }
    function localStoragehandler(){
        var name = document.getElementById('name').value;
            var email = document.getElementById('checker').value;
            var passwd = document.getElementById('cpassword').value;
            console.log(name,email.passwd);
            
            var formData = {
                name: name,
                email: email,
                password: passwd
            };
            var formDataJson = JSON.stringify(formData);
            localStorage.setItem('formData', formDataJson);
document.cookie=`name=${name}`
document.cookie=`passwd=${passwd}`

    }
    
    console.log(document.getElementsByTagName('input'));

</script>

</html>